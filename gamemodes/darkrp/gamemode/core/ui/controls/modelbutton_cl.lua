local a={}function a:Init()self:SetText('')end;function a:SetTopText(b)self.TopText=b end;function a:SetBottomText(b)self.BottomText=b end;function a:SetHoverText(b)self.HoverText=b end;function a:SetColor(c)self.Color=c:Copy()self.Color.a=175 end;function a:SetTextColor(c)self.TextColor=c end;function a:SetActive(d)self.Active=d end;function a:SetModel(e,f,g)if!self.Model then self.Model=ui.Create('rp_modelicon',self)self.Model.DoClick=function(...)if self.DoClick then self.DoClick(self,...)end end;self.Model.DoRightClick=function(...)if self.DoRightClick then self.DoRightClick(self,...)end end;self.Model.OnDepressed=function(...)if self.OnDepressed then self.OnDepressed(self,...)end end;self.Model.OnReleased=function(...)if self.OnReleased then self.OnReleased(self,...)end end;self.Model.Paint=function()end end;self.Model:SetModel(e,f,g)end;function a:SetMaterial(h)self.Material=h end;local i=ui.col.Button:Copy()i.a=175;function a:Paint(j,k)local c,l=self.Color||i,self.TextColor||ui.col.White;draw.RoundedBox(5,0,0,j,k,ui.col.Background)draw.Box(0,20,1,k-40,c)draw.RoundedBoxEx(5,0,0,j,20,c,true,true,false,false)draw.SimpleText(self.TopText,'ui.17',j*0.5,10,l,TEXT_ALIGN_CENTER,TEXT_ALIGN_CENTER)draw.Box(1,20,j-2,k-40,ui.col.Background)if self.Material then local m=k-40;surface.SetDrawColor(255,255,255)surface.SetTexture(self.Material)surface.DrawTexturedRect(0,0,m,m)end;draw.Box(j-1,20,1,k-40,c)draw.RoundedBoxEx(5,0,k-20,j,20,c,false,false,true,true)draw.SimpleText(self.BottomText,'ui.17',j*0.5,k-10,l,TEXT_ALIGN_CENTER,TEXT_ALIGN_CENTER)if self:IsHovered()||IsValid(self.Model)&&self.Model:IsHovered()then draw.RoundedBox(5,0,0,j,k,ui.col.Hover)end;if self.Active then draw.Box(0,20,j,k-40,ui.col.Hover)end end;function a:DrawHoverText(b,j,k)surface.SetFont('ui.18')local n,o=surface.GetTextSize(b)n,o=n+10,o+10;draw.RoundedBox(5,j*0.5-n*0.5,k*0.5-o*0.5,n,o,self.Color||ui.col.Button)draw.SimpleText(b,'ui.18',j*0.5,k*0.5,ui.col.White,TEXT_ALIGN_CENTER,TEXT_ALIGN_CENTER)end;function a:PaintOver(j,k)if(self:IsHovered()||IsValid(self.Model)&&self.Model:IsHovered())&&self.HoverText then self:DrawHoverText(self.HoverText,j,k)end end;function a:PerformLayout(j,k)if self.Model then local m=k-44;self.Model:SetSize(m,m)local p=j*0.5-m*0.5;self.Model:SetPos(p,22)end end;function a:DoClick()end;vgui.Register('rp_modelbutton',a,'DButton')